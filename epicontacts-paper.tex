\documentclass[9pt,a4paper,]{extarticle}

\usepackage{f1000_styles}

\usepackage[pdfborder={0 0 0}]{hyperref}

\usepackage[super]{natbib}
\bibliographystyle{unsrtnat}


%% maxwidth is the original width if it is less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}

% disable code chunks background
%\renewenvironment{Shaded}{}{}

% disable section numbers
\setcounter{secnumdepth}{0}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}



\usepackage{amsthm}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{corollary}{Corollary}
\newtheorem{proposition}{Proposition}
\theoremstyle{definition}
\newtheorem{example}{Example}
\theoremstyle{definition}
\newtheorem{exercise}{Exercise}
\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{solution}{Solution}
\begin{document}
\pagestyle{front}

\title{epicontacts: Handling, visualisation and analysis of epidemiological contacts}

\author[1]{VP Nagraj}
\author[2]{Nistara Randhawa}
\author[3]{Finlay Campbell}
\author[4]{Thomas Crellen}
\author[3]{Thibaut Jombart}
\affil[1]{School of Medicine Research Computing, University of Virginia, USA}
\affil[2]{One Health Institute, University of California, Davis, USA}
\affil[3]{MRC Centre for Outbreak Analysis and Modelling, Department of Infectious Disease Epidemiology, School of Public Health, Imperial College London, United Kingdom.}
\affil[4]{Mahidol-Oxford Tropical Medicine Research Unit, Bangkok, Thailand}

\maketitle
\thispagestyle{front}

\begin{abstract}
Epidemiological outbreak data is often captured in line list and contact format to facilitate contact tracing for outbreak control. \texttt{epicontacts} is an R package that provides a unique data structure for combining these data into a single object in order to facilitate more efficient visualisation and analysis. The package incorporates interactive visualisation functionality as well as network analysis techniques. Originally developed as part of the Hackout3 event, it is now developed, maintained and featured as part of the R Epidemics Consortium (RECON). The package is available for download from the Comprehensive R Archive Network (CRAN) and Github.
\end{abstract}

\section*{Keywords}
contact tracing, outbreaks, R


\clearpage
\pagestyle{main}

\section{Introduction}\label{introduction}

In order to study, prepare for, and intervene against disease outbreaks, infectious disease modellers and public health professionals need an extensive data analysis toolbox. Disease outbreak analytics involve a wide range of tasks that need to be linked together, from data collection and curation to exploratory analyses, and more advanced modelling techniques used for incidence forecasting\citep{funk:2016}\citep{nouvellet:2017} or to predict the impact of specific interventions\citep{nouvellet:2015}\citep{parker:2015}. Recent outbreak responses suggest that for such analyses to be as informative as possible, they need to rely on a wealth of available data, including timing of symptoms, characterisation of key delay distributions (e.g.~incubation period, serial interval), and data on contacts between patients\citep{cauchemez:2014}\citep{aylward:2014}\citep{agua-agum:2015}\citep{cori:2017}.

The latter type of data is particularly important for outbreak analysis, not only because contacts between patients are useful for unravelling the drivers of an epidemic \citep{agua-agum:2016}\citep{cauchemez:2016}, but also because identifying new cases early can reduce ongoing transmission via contact tracing, i.e.~follow-up of individuals who reported contacts with known cases\citep{senga:2017}\citep{saurabh:2017}. However, curating contact data and linking them to existing line lists of cases is often challenging, and tools for storing, handling, and visualising contact data are often missing \citep{who:2009}\citep{rakesh:2014}.

Here, we introduce \texttt{epicontacts}, an R\citep{rcore} package providing a suite of tools aimed at merging line lists and contact data, and providing basic functionality for handling, visualising and analysing epidemiological contact data. Maintained as part of the R Epidemics Consortium (RECON \url{http://www.repidemicsconsortium.org/}), the package is integrated into an ecosystem of tools for outbreak response using the R language.

\section{Methods}\label{methods}

\subsection{Operation}\label{operation}

\texttt{epicontacts} is released as an open-source R package. A stable release is available for Windows, Mac and Linux operating systems via the CRAN repository. The latest development version of the package is available through the RECON Github organization.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# install from CRAN}
\KeywordTok{install.packages}\NormalTok{(}\StringTok{"epicontacts"}\NormalTok{)}

\CommentTok{# install from Github}
\KeywordTok{install.packages}\NormalTok{(}\StringTok{"devtools"}\NormalTok{)}
\NormalTok{devtools}\OperatorTok{::}\KeywordTok{install_github}\NormalTok{(}\StringTok{"reconhub/epicontacts"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# load and attach the package}
\KeywordTok{library}\NormalTok{(epicontacts)}
\end{Highlighting}
\end{Shaded}

\subsection{Implementation}\label{implementation}

\subsubsection{Data handling}\label{data-handling}

\texttt{epicontacts} includes a novel data structure to accommodate line list and contact list datasets in a single object. This object is constructed with the \texttt{make\_epiconctacts()} function and includes attributes from the original datasets. Once combined, these are mapped internally in a graph paradigm as nodes and edges. The \texttt{epicontacts} data structure also includes a \texttt{logical} attribute for whether or not this resulting network is directed.

The package takes advantage of R's generic functions, which call specific methods depending on the class of an object. This is implemented several places, including the \texttt{summary.epicontacts()} and \texttt{print.epicontacts()} methods, both of which are respectively called when the \texttt{summary()} or \texttt{print()} functions are used on an \texttt{epicontacts} object. The package does not include built-in data, as exemplary contact and line list datasets are available in the \texttt{outbreaks} package\citep{outbreaks}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# install the outbreaks package for data}
\KeywordTok{install.packages}\NormalTok{(}\StringTok{"outbreaks"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# load the outbreaks package}
\KeywordTok{library}\NormalTok{(outbreaks)}

\CommentTok{# construct an epicontacts object}
\NormalTok{x <-}\StringTok{ }\KeywordTok{make_epicontacts}\NormalTok{(}\DataTypeTok{linelist=}\NormalTok{mers_korea_}\DecValTok{2015}\NormalTok{[[}\DecValTok{1}\NormalTok{]],}
                      \DataTypeTok{contacts =}\NormalTok{ mers_korea_}\DecValTok{2015}\NormalTok{[[}\DecValTok{2}\NormalTok{]],}
                      \DataTypeTok{directed=}\OtherTok{TRUE}\NormalTok{)}

\CommentTok{# print the object   }
\NormalTok{x               }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## /// Epidemiological Contacts //
## 
##   // class: epicontacts
##   // 162 cases in linelist; 98 contacts;  directed 
## 
##   // linelist
## 
## # A tibble: 162 x 15
##    id      age age_class sex   place_infect  reporting_ctry loc_hosp      
##  * <chr> <int> <chr>     <fct> <fct>         <fct>          <fct>         
##  1 SK_1     68 60-69     M     Middle East   South Korea    Pyeongtaek St~
##  2 SK_2     63 60-69     F     Outside Midd~ South Korea    Pyeongtaek St~
##  3 SK_3     76 70-79     M     Outside Midd~ South Korea    Pyeongtaek St~
##  4 SK_4     46 40-49     F     Outside Midd~ South Korea    Pyeongtaek St~
##  5 SK_5     50 50-59     M     Outside Midd~ South Korea    365 Yeollin C~
##  6 SK_6     71 70-79     M     Outside Midd~ South Korea    Pyeongtaek St~
##  7 SK_7     28 20-29     F     Outside Midd~ South Korea    Pyeongtaek St~
##  8 SK_8     46 40-49     F     Outside Midd~ South Korea    Seoul Clinic,~
##  9 SK_9     56 50-59     M     Outside Midd~ South Korea    Pyeongtaek St~
## 10 SK_10    44 40-49     M     Outside Midd~ China          Pyeongtaek St~
## # ... with 152 more rows, and 8 more variables: dt_onset <date>,
## #   dt_report <date>, week_report <fct>, dt_start_exp <date>,
## #   dt_end_exp <date>, dt_diag <date>, outcome <fct>, dt_death <date>
## 
##   // contacts
## 
## # A tibble: 98 x 4
##    from  to     exposure       diff_dt_onset
##    <chr> <chr>  <fct>                  <int>
##  1 SK_14 SK_113 Emergency room            10
##  2 SK_14 SK_116 Emergency room            13
##  3 SK_14 SK_41  Emergency room            14
##  4 SK_14 SK_112 Emergency room            14
##  5 SK_14 SK_100 Emergency room            15
##  6 SK_14 SK_114 Emergency room            15
##  7 SK_14 SK_136 Emergency room            15
##  8 SK_14 SK_47  Emergency room            16
##  9 SK_14 SK_110 Emergency room            16
## 10 SK_14 SK_122 Emergency room            16
## # ... with 88 more rows
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# view a summary of the object                  }
\KeywordTok{summary}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## /// Overview //
##   // number of unique IDs in linelist: 162
##   // number of unique IDs in contacts: 97
##   // number of unique IDs in both: 97
##   // number of contacts: 98
##   // contacts with both cases in linelist: 100 %
## 
## /// Degrees of the network //
##   // in-degree summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.00    1.00    1.00    1.01    1.00    3.00 
## 
##   // out-degree summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.00    0.00    0.00    1.01    0.00   38.00 
## 
##   // in and out degree summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.000   1.000   1.000   2.021   1.000  39.000 
## 
## /// Attributes //
##   // attributes in linelist:
##  age age_class sex place_infect reporting_ctry loc_hosp dt_onset dt_report week_report dt_start_exp dt_end_exp dt_diag outcome dt_death
## 
##   // attributes in contacts:
##  exposure diff_dt_onset
\end{verbatim}

\subsubsection{Data visualisation}\label{data-visualisation}

\texttt{epicontacts} implements two interactive network visualisation packages: \texttt{visNetwork} and \texttt{threejs}\citep{visNetwork}\citep{threejs}. These frameworks provide R interfaces to the \texttt{vis.js} and \texttt{three.js} JavaScript libraries respectively. Their functionality is incorporated in the generic \texttt{plot()} method (Figure 1) for an \texttt{epicontacts} object, which can be toggled between either with the ``type'' parameter. Alternatively, the \texttt{visNetwork} interactivity is accessible via \texttt{vis\_epicontacts()} (Figure 2), and \texttt{threejs} through \texttt{graph3D()} (Figure 3). Each function has a series of arguments that can also be passed through \texttt{plot()}. Both share a color palette, and users can specify node, edge and background colors. However, \texttt{vis\_epicontacts()} includes a specification for ``node\_shape'' by a line list attribute as well as a customization of that shape with an icon from the Font Awesome icon library. The principal distinction between the two is that \texttt{graph3D()} is a three-dimensional visualisation, allowing users to rotate clusters of nodes to better inspect their relationships.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{plot}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{figure}
\centering
\includegraphics[width=1.00000\textwidth]{figure1.png}
\caption{The generic plot() method for an epicontacts object will use the visNetwork method by default.}
\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{vis_epicontacts}\NormalTok{(x,}
                \DataTypeTok{node_shape =} \StringTok{"sex"}\NormalTok{,}
                \DataTypeTok{shapes =} \KeywordTok{c}\NormalTok{(}\DataTypeTok{F =} \StringTok{"female"}\NormalTok{, }\DataTypeTok{M =} \StringTok{"male"}\NormalTok{),}
                \DataTypeTok{edge_label =} \StringTok{"exposure"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}
\centering
\includegraphics[width=1.00000\textwidth]{figure2.png}
\caption{The vis\_epicontacts() function explicitly calls visNetwork to make an interactive plot of the contact network.}
\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{graph3D}\NormalTok{(x, }\DataTypeTok{bg_col =} \StringTok{"black"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}
\centering
\includegraphics[width=1.00000\textwidth]{figure3.png}
\caption{The graph3D() function generates a three-dimensional network plot.}
\end{figure}

\subsubsection{Data analysis}\label{data-analysis}

Subsetting is a typical preliminary step in data analysis. \texttt{epicontacts} leverages a customized \texttt{subset} method to filter line list or contacts based on values of particular attributes from nodes, edges or both. If users are interested in returning only contacts that appear in the line list (or vice versa), the \texttt{thin()} function implements such logic.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# subset for males}
\KeywordTok{subset}\NormalTok{(x, }\DataTypeTok{node_attribute =} \KeywordTok{list}\NormalTok{(}\StringTok{"sex"}\NormalTok{ =}\StringTok{ "M"}\NormalTok{))}

\CommentTok{# subset for exposure in emergency room}
\KeywordTok{subset}\NormalTok{(x, }\DataTypeTok{edge_attribute =} \KeywordTok{list}\NormalTok{(}\StringTok{"exposure"}\NormalTok{ =}\StringTok{ "Emergency room"}\NormalTok{))}

\CommentTok{# subset for males who survived and were exposed in emergency room}
\KeywordTok{subset}\NormalTok{(x,}
       \DataTypeTok{node_attribute =} \KeywordTok{list}\NormalTok{(}\StringTok{"sex"}\NormalTok{ =}\StringTok{ "M"}\NormalTok{, }\StringTok{"outcome"}\NormalTok{ =}\StringTok{ "Alive"}\NormalTok{),}
       \DataTypeTok{edge_attribute =} \KeywordTok{list}\NormalTok{(}\StringTok{"exposure"}\NormalTok{ =}\StringTok{ "Emergency room"}\NormalTok{))}

\KeywordTok{thin}\NormalTok{(x, }\StringTok{"contacts"}\NormalTok{)}
\KeywordTok{thin}\NormalTok{(x, }\StringTok{"linelist"}\NormalTok{)  }
\end{Highlighting}
\end{Shaded}

For analysis of pairwise contact between individuals, the \texttt{get\_pairwise()} feature searches the line list based on the specified attribute. If the given column is a numeric or date object, the function will return a vector containing the difference of the values of the corresponding ``from'' and ``to'' contacts. This can be particularly useful, for example, if the line list includes the date of onset of each case. The subtracted value of the contacts would approximate the serial interval for the outbreak\citep{fine:2003}. For factors, character vectors and other non-numeric attributes, the default behavior is to print the associated line list attribute for each pair of contacts. The function includes a further parameter to pass an arbitrary function to process the specified attributes. In the case of a character vector, this can be helpful for tabulating information about different contact pairings with \texttt{table()}.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# find interval between date onset in cases}
\KeywordTok{get_pairwise}\NormalTok{(x, }\StringTok{"dt_onset"}\NormalTok{)}

\CommentTok{# find pairs of age category contacts}
\KeywordTok{get_pairwise}\NormalTok{(x, }\StringTok{"age_class"}\NormalTok{)}

\CommentTok{# tabulate the pairs of age category contacts}
\KeywordTok{get_pairwise}\NormalTok{(x, }\StringTok{"age_class"}\NormalTok{, }\DataTypeTok{f =}\NormalTok{ table)}
\end{Highlighting}
\end{Shaded}

\section{Use Cases}\label{use-cases}

Those interested in using \texttt{epicontacts} should have a line list of cases as well as a record of contacts between individuals. Both datasets must be enumerated in tabular format with rows and columns. At minimum the line list requires one column with a unique identifier for every case. The contact list needs two columns for the source and destination of each pair of contacts. The datasets can include arbitrary features of case or contact beyond these columns. Once loaded into R and stored as \texttt{data.frame} objects, these datasets can be passed to the \texttt{make\_epicontacts()} function (see `Methods' section for more detail). For an example of data prepared in this format, users can refer to the \texttt{outbreaks} R package.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# load the outbreaks package}
\KeywordTok{library}\NormalTok{(outbreaks)}

\CommentTok{# example simulated ebola data}

\CommentTok{# line list}
\KeywordTok{str}\NormalTok{(ebola_sim}\OperatorTok{$}\NormalTok{linelist)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    5888 obs. of  9 variables:
##  $ case_id                : chr  "d1fafd" "53371b" "f5c3d8" "6c286a" ...
##  $ generation             : int  0 1 1 2 2 0 3 3 2 3 ...
##  $ date_of_infection      : Date, format: NA "2014-04-09" ...
##  $ date_of_onset          : Date, format: "2014-04-07" "2014-04-15" ...
##  $ date_of_hospitalisation: Date, format: "2014-04-17" "2014-04-20" ...
##  $ date_of_outcome        : Date, format: "2014-04-19" NA ...
##  $ outcome                : Factor w/ 2 levels "Death","Recover": NA NA 2 1 2 NA 2 1 2 1 ...
##  $ gender                 : Factor w/ 2 levels "f","m": 1 2 1 1 1 1 1 1 2 2 ...
##  $ hospital               : Factor w/ 11 levels "Connaught Hopital",..: 4 2 7 NA 7 NA 2 9 7 11 ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# contact list}
\KeywordTok{str}\NormalTok{(ebola_sim}\OperatorTok{$}\NormalTok{contacts)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    3800 obs. of  3 variables:
##  $ infector: chr  "d1fafd" "cac51e" "f5c3d8" "0f58c4" ...
##  $ case_id : chr  "53371b" "f5c3d8" "0f58c4" "881bd4" ...
##  $ source  : Factor w/ 2 levels "funeral","other": 2 1 2 2 2 1 2 2 2 2 ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# example middle east respiratory syndrome data}

\CommentTok{# line list}
\KeywordTok{str}\NormalTok{(mers_korea_}\DecValTok{2015}\OperatorTok{$}\NormalTok{linelist)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    162 obs. of  15 variables:
##  $ id            : chr  "SK_1" "SK_2" "SK_3" "SK_4" ...
##  $ age           : int  68 63 76 46 50 71 28 46 56 44 ...
##  $ age_class     : chr  "60-69" "60-69" "70-79" "40-49" ...
##  $ sex           : Factor w/ 2 levels "F","M": 2 1 2 1 2 2 1 1 2 2 ...
##  $ place_infect  : Factor w/ 2 levels "Middle East",..: 1 2 2 2 2 2 2 2 2 2 ...
##  $ reporting_ctry: Factor w/ 2 levels "China","South Korea": 2 2 2 2 2 2 2 2 2 1 ...
##  $ loc_hosp      : Factor w/ 13 levels "365 Yeollin Clinic, Seoul",..: 10 10 10 10 1 10 10 13 10 10 ...
##  $ dt_onset      : Date, format: "2015-05-11" "2015-05-18" ...
##  $ dt_report     : Date, format: "2015-05-19" "2015-05-20" ...
##  $ week_report   : Factor w/ 5 levels "2015_21","2015_22",..: 1 1 1 2 2 2 2 2 2 2 ...
##  $ dt_start_exp  : Date, format: "2015-04-18" "2015-05-15" ...
##  $ dt_end_exp    : Date, format: "2015-05-04" "2015-05-20" ...
##  $ dt_diag       : Date, format: "2015-05-20" "2015-05-20" ...
##  $ outcome       : Factor w/ 2 levels "Alive","Dead": 1 1 2 1 1 2 1 1 1 1 ...
##  $ dt_death      : Date, format: NA NA ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# contact list}
\KeywordTok{str}\NormalTok{(mers_korea_}\DecValTok{2015}\OperatorTok{$}\NormalTok{contacts)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    98 obs. of  4 variables:
##  $ from         : chr  "SK_14" "SK_14" "SK_14" "SK_14" ...
##  $ to           : chr  "SK_113" "SK_116" "SK_41" "SK_112" ...
##  $ exposure     : Factor w/ 5 levels "Contact with HCW",..: 2 2 2 2 2 2 2 2 2 2 ...
##  $ diff_dt_onset: int  10 13 14 14 15 15 15 16 16 16 ...
\end{verbatim}

\section{Discussion}\label{discussion}

\subsection{Benefits}\label{benefits}

While there are software packages available for epidemiological contact visualisation and analysis, none aim to accommodate line list and contact data as purposively as \texttt{epicontacts}\citep{noremark:2014}\citep{carroll:2014}\citep{guthrie:2017}. Furthermore, this package strives to solve a problem of plotting dense graphs by implementing interactive network visualisation tools. A static plot of a network with many nodes and edges may be difficult to interpret. However, by rotating or hovering over an \texttt{epicontacts} visualisation, a user may better understand the data.

\subsection{Future considerations}\label{future-considerations}

The maintainers of \texttt{epicontacts} anticipate new features and functionality. Future development could involve performance optimization for visualising large networks, as generating these interactive plots is resource intensive. Additionally, attention may be directed towards inclusion of alternative visualisation methods.

\section{Conclusions}\label{conclusions}

\texttt{epicontacts} provides a unified interface for processing, visualising and analyzing disease outbreak data in the R language. The package and its source are freely available on CRAN and Github. By developing functionality with line list and contact list data in mind, the authors aim to enable more efficient epidemiological outbreak analyses.

\section{Software availability}\label{software-availability}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  URL link to where the software can be downloaded from or used by a non-coder: \url{https://CRAN.R-project.org/package=epicontacts}
\item
  URL link to the author's version control system repository containing the source code: \url{https://github.com/reconhub/epicontacts}
\item
  Link to source code as at time of publication (\emph{F1000Research} TO GENERATE)
\item
  Link to archived source code as at time of publication (\emph{F1000Research} TO GENERATE)
\item
  Software license: GPL 2
\end{enumerate}

\section{Author contributions}\label{author-contributions}

\begin{itemize}
\item
  VPN: Conceptualization, Software, Writing - Original Draft Preparation
\item
  NR: Conceptualization, Software, Writing - Original Draft Preparation
\item
  FC: Conceptualization, Software, Writing - Original Draft Preparation
\item
  TC: Conceptualization, Software
\item
  TJ: Conceptualization, Software, Writing - Original Draft Preparation
\end{itemize}

\section{Competing interests}\label{competing-interests}

No competing interests were disclosed.

\section{Grant information}\label{grant-information}

The authors declared that no grants were involved in supporting this work.

\section{Acknowledgements}\label{acknowledgements}

The authors would like to thank all of the organizers and participants of the Hackout3 event held in Berkeley, California June 20-24, 2016. In particular, the authors acknowledge the support of the following organizations: MRC Centre for Outbreak Analysis, and Modelling at Imperial College London, the NIHR's Modelling Methodology Health Protection Research Unit at Imperial College London, and the Berkeley Institute for Data Science.

{\small\bibliography{biblio.bib}}

\end{document}
